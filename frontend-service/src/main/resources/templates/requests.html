<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>–ú–æ—ó –∑–∞—è–≤–∫–∏</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">

<div class="container mt-5">
    <div class="row">
        <div class="col-12">
            <h2 class="mb-4">–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–µ–º–æ–Ω—Ç–∞–º–∏</h2>

            <div class="card p-4 mb-5 shadow-sm">
                <h4>–î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –∑–∞—è–≤–∫—É</h4>
                <form action="/ui/requests/add" method="POST" class="row g-3">
                    <div class="col-md-4">
                        <label class="form-label">–ú–æ–¥–µ–ª—å –ø—Ä–∏—Å—Ç—Ä–æ—é</label>
                        <input type="text" name="deviceModel" class="form-control" placeholder="–ù–∞–ø—Ä. iPhone 13" required>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">–û–ø–∏—Å –ø—Ä–æ–±–ª–µ–º–∏</label>
                        <input type="text" name="problemDescription" class="form-control" placeholder="–ù–∞–ø—Ä. –†–æ–∑–±–∏—Ç–∏–π –µ–∫—Ä–∞–Ω" required>
                    </div>
                    <div class="col-md-2">
                        <label class="form-label">–¶—ñ–Ω–∞ (–≥—Ä–Ω)</label>
                        <input type="number" name="quotedPrice" class="form-control" placeholder="1000" required>
                    </div>
                    <div class="col-md-2 d-flex align-items-end">
                        <button type="submit" class="btn btn-primary w-100">–°—Ç–≤–æ—Ä–∏—Ç–∏</button>
                    </div>
                </form>
            </div>

            <div class="card shadow-sm">
                <div class="card-body">
                    <h4 class="card-title">–°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω–∏—Ö —Ä–µ–º–æ–Ω—Ç—ñ–≤</h4>
                    <table class="table table-striped mt-3 align-middle">
                        <thead class="table-dark">
                        <tr>
                            <th>ID</th>
                            <th>–ü—Ä–∏—Å—Ç—Ä—ñ–π</th>
                            <th>–û–ø–∏—Å</th>
                            <th>–°—Ç–∞—Ç—É—Å</th>
                            <th>–¶—ñ–Ω–∞</th>
                            <th>–î—ñ—ó</th>
                        </tr>
                        </thead>
                        <tbody>
                        {#for req in requests}
                            <tr>
                                <td>{req.id}</td>
                                <td><strong>{req.deviceModel}</strong></td>
                                <td>{req.problemDescription}</td>
                                <td>
                                    <span class="badge bg-info">{req.status}</span>
                                </td>
                                <td>{req.quotedPrice} –≥—Ä–Ω</td>
                                <td>
                                    <form action="/ui/requests/delete/{req.id}" method="POST" style="display:inline;">
                                        <button type="submit" class="btn btn-danger btn-sm">üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏</button>
                                    </form>
                                </td>
                            </tr>
                        {/for}
                        </tbody>
                    </table>

                    {#if requests.isEmpty()}
                        <div class="alert alert-warning mt-3 text-center">
                            –ó–∞—è–≤–æ–∫ –ø–æ–∫–∏ –Ω–µ–º–∞—î. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø–µ—Ä—à—É!
                        </div>
                    {/if}
                </div>
            </div>

        </div>
    </div>
    <div class="mt-3 text-center">
        <a href="/" class="btn btn-secondary">–ù–∞ –≥–æ–ª–æ–≤–Ω—É</a>
    </div>
</div>

</body>
</html>